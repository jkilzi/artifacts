{"version":3,"file":"WorkflowOverviewFormatter.esm.js","sources":["../../src/dataFormatters/WorkflowOverviewFormatter.ts"],"sourcesContent":["/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport moment from 'moment';\n\nimport {\n  WorkflowFormatDTO,\n  WorkflowOverviewDTO,\n} from '@red-hat-developer-hub/backstage-plugin-orchestrator-common';\n\nimport { VALUE_UNAVAILABLE } from '../constants';\nimport DataFormatter from './DataFormatter';\n\nexport interface FormattedWorkflowOverview {\n  readonly id: string;\n  readonly name: string;\n  readonly lastTriggered: string;\n  readonly lastRunStatus: string;\n  readonly lastRunId: string;\n  readonly category: string;\n  readonly description: string;\n  readonly format: WorkflowFormatDTO;\n}\n\nconst WorkflowOverviewFormatter: DataFormatter<\n  WorkflowOverviewDTO,\n  FormattedWorkflowOverview\n> = {\n  format: (data: WorkflowOverviewDTO): FormattedWorkflowOverview => {\n    return {\n      id: data.workflowId,\n      name: data.name ?? VALUE_UNAVAILABLE,\n      lastTriggered: data.lastTriggeredMs\n        ? moment(data.lastTriggeredMs).toDate().toLocaleString()\n        : VALUE_UNAVAILABLE,\n      lastRunStatus: data.lastRunStatus?.toString() ?? VALUE_UNAVAILABLE,\n      lastRunId: data.lastRunId ?? VALUE_UNAVAILABLE,\n      category: data.category ?? VALUE_UNAVAILABLE,\n      description: data.description ?? VALUE_UNAVAILABLE,\n      format: data.format,\n    };\n  },\n};\n\nexport default WorkflowOverviewFormatter;\n"],"names":[],"mappings":";;;AAoCA,MAAM,yBAGF,GAAA;AAAA,EACF,MAAA,EAAQ,CAAC,IAAyD,KAAA;AAChE,IAAO,OAAA;AAAA,MACL,IAAI,IAAK,CAAA,UAAA;AAAA,MACT,IAAA,EAAM,KAAK,IAAQ,IAAA,iBAAA;AAAA,MACnB,aAAA,EAAe,IAAK,CAAA,eAAA,GAChB,MAAO,CAAA,IAAA,CAAK,eAAe,CAAE,CAAA,MAAA,EAAS,CAAA,cAAA,EACtC,GAAA,iBAAA;AAAA,MACJ,aAAe,EAAA,IAAA,CAAK,aAAe,EAAA,QAAA,EAAc,IAAA,iBAAA;AAAA,MACjD,SAAA,EAAW,KAAK,SAAa,IAAA,iBAAA;AAAA,MAC7B,QAAA,EAAU,KAAK,QAAY,IAAA,iBAAA;AAAA,MAC3B,WAAA,EAAa,KAAK,WAAe,IAAA,iBAAA;AAAA,MACjC,QAAQ,IAAK,CAAA,MAAA;AAAA,KACf,CAAA;AAAA,GACF;AACF;;;;"}