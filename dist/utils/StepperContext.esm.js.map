{"version":3,"file":"StepperContext.esm.js","sources":["../../src/utils/StepperContext.tsx"],"sourcesContent":["/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\n\nexport type StepperContext = {\n  activeStep: number;\n  handleNext: () => void;\n  handleBack: () => void;\n  reviewStep: React.ReactNode;\n  isValidating: boolean;\n  handleValidateStarted: () => void;\n  handleValidateEnded: () => void;\n};\n\nconst context = React.createContext<StepperContext | null>(null);\n\nexport const useStepperContext = (): StepperContext => {\n  const multiStepFormContext = React.useContext(context);\n  if (!multiStepFormContext) {\n    throw new Error('Context StepperContext is not defined');\n  }\n  return multiStepFormContext;\n};\n\nexport const StepperContextProvider = ({\n  children,\n  reviewStep,\n}: {\n  children: React.ReactNode;\n  reviewStep: React.ReactNode;\n}) => {\n  const [activeStep, setActiveStep] = React.useState<number>(0);\n  const [isValidating, setIsValidating] = React.useState<boolean>(false);\n  const contextData = React.useMemo(() => {\n    return {\n      activeStep,\n      handleNext: () => {\n        setActiveStep(curActiveStep => curActiveStep + 1);\n      },\n      handleBack: () => setActiveStep(curActiveStep => curActiveStep - 1),\n      reviewStep,\n      isValidating,\n      handleValidateStarted: () => setIsValidating(true),\n      handleValidateEnded: () => setIsValidating(false),\n    };\n  }, [setActiveStep, activeStep, reviewStep, isValidating, setIsValidating]);\n  return <context.Provider value={contextData}>{children}</context.Provider>;\n};\n"],"names":[],"mappings":";;AA2BA,MAAM,OAAA,GAAU,KAAM,CAAA,aAAA,CAAqC,IAAI,CAAA,CAAA;AAExD,MAAM,oBAAoB,MAAsB;AACrD,EAAM,MAAA,oBAAA,GAAuB,KAAM,CAAA,UAAA,CAAW,OAAO,CAAA,CAAA;AACrD,EAAA,IAAI,CAAC,oBAAsB,EAAA;AACzB,IAAM,MAAA,IAAI,MAAM,uCAAuC,CAAA,CAAA;AAAA,GACzD;AACA,EAAO,OAAA,oBAAA,CAAA;AACT,EAAA;AAEO,MAAM,yBAAyB,CAAC;AAAA,EACrC,QAAA;AAAA,EACA,UAAA;AACF,CAGM,KAAA;AACJ,EAAA,MAAM,CAAC,UAAY,EAAA,aAAa,CAAI,GAAA,KAAA,CAAM,SAAiB,CAAC,CAAA,CAAA;AAC5D,EAAA,MAAM,CAAC,YAAc,EAAA,eAAe,CAAI,GAAA,KAAA,CAAM,SAAkB,KAAK,CAAA,CAAA;AACrE,EAAM,MAAA,WAAA,GAAc,KAAM,CAAA,OAAA,CAAQ,MAAM;AACtC,IAAO,OAAA;AAAA,MACL,UAAA;AAAA,MACA,YAAY,MAAM;AAChB,QAAc,aAAA,CAAA,CAAA,aAAA,KAAiB,gBAAgB,CAAC,CAAA,CAAA;AAAA,OAClD;AAAA,MACA,UAAY,EAAA,MAAM,aAAc,CAAA,CAAA,aAAA,KAAiB,gBAAgB,CAAC,CAAA;AAAA,MAClE,UAAA;AAAA,MACA,YAAA;AAAA,MACA,qBAAA,EAAuB,MAAM,eAAA,CAAgB,IAAI,CAAA;AAAA,MACjD,mBAAA,EAAqB,MAAM,eAAA,CAAgB,KAAK,CAAA;AAAA,KAClD,CAAA;AAAA,KACC,CAAC,aAAA,EAAe,YAAY,UAAY,EAAA,YAAA,EAAc,eAAe,CAAC,CAAA,CAAA;AACzE,EAAA,2CAAQ,OAAQ,CAAA,QAAA,EAAR,EAAiB,KAAA,EAAO,eAAc,QAAS,CAAA,CAAA;AACzD;;;;"}