{"version":3,"file":"WorkflowInstanceStatusIndicator.esm.js","sources":["../../src/components/WorkflowInstanceStatusIndicator.tsx"],"sourcesContent":["/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\n\nimport { Link } from '@backstage/core-components';\nimport { useRouteRef } from '@backstage/core-plugin-api';\n\nimport DotIcon from '@material-ui/icons/FiberManualRecord';\n\nimport {\n  capitalize,\n  ProcessInstanceStatusDTO,\n} from '@red-hat-developer-hub/backstage-plugin-orchestrator-common';\n\nimport { VALUE_UNAVAILABLE } from '../constants';\nimport { useWorkflowInstanceStateColors } from '../hooks/useWorkflowInstanceStatusColors';\nimport { workflowInstanceRouteRef } from '../routes';\n\nexport const WorkflowInstanceStatusIndicator = ({\n  status,\n  lastRunId,\n}: {\n  status?: ProcessInstanceStatusDTO;\n  lastRunId?: string;\n}) => {\n  const iconColor = useWorkflowInstanceStateColors(status);\n  const workflowInstanceLink = useRouteRef(workflowInstanceRouteRef);\n\n  if (!status) {\n    return VALUE_UNAVAILABLE;\n  }\n\n  return (\n    <>\n      <DotIcon style={{ fontSize: '0.75rem' }} className={iconColor} />{' '}\n      {lastRunId ? (\n        <Link to={workflowInstanceLink({ instanceId: lastRunId })}>\n          {capitalize(status)}\n        </Link>\n      ) : (\n        <>{capitalize(status)}</>\n      )}\n    </>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;AA+BO,MAAM,kCAAkC,CAAC;AAAA,EAC9C,MAAA;AAAA,EACA,SAAA;AACF,CAGM,KAAA;AACJ,EAAM,MAAA,SAAA,GAAY,+BAA+B,MAAM,CAAA,CAAA;AACvD,EAAM,MAAA,oBAAA,GAAuB,YAAY,wBAAwB,CAAA,CAAA;AAEjE,EAAA,IAAI,CAAC,MAAQ,EAAA;AACX,IAAO,OAAA,iBAAA,CAAA;AAAA,GACT;AAEA,EAAA,uBAEI,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,kBAAA,KAAA,CAAA,aAAA,CAAC,OAAQ,EAAA,EAAA,KAAA,EAAO,EAAE,QAAA,EAAU,SAAU,EAAA,EAAG,SAAW,EAAA,SAAA,EAAW,CAAG,EAAA,GAAA,EACjE,4BACE,KAAA,CAAA,aAAA,CAAA,IAAA,EAAA,EAAK,EAAI,EAAA,oBAAA,CAAqB,EAAE,UAAA,EAAY,SAAU,EAAC,CACrD,EAAA,EAAA,UAAA,CAAW,MAAM,CACpB,CAEA,mBAAA,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,EAAG,UAAW,CAAA,MAAM,CAAE,CAE1B,CAAA,CAAA;AAEJ;;;;"}