{"version":3,"file":"ReviewStep.esm.js","sources":["../../src/components/ReviewStep.tsx"],"sourcesContent":["/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\n\nimport { Content, StructuredMetadataTable } from '@backstage/core-components';\nimport { JsonObject } from '@backstage/types';\n\nimport { Box, Button, makeStyles, Paper } from '@material-ui/core';\nimport type { JSONSchema7 } from 'json-schema';\n\nimport generateReviewTableData from '../utils/generateReviewTableData';\nimport { useStepperContext } from '../utils/StepperContext';\nimport SubmitButton from './SubmitButton';\n\nconst useStyles = makeStyles(theme => ({\n  footer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'right',\n    marginTop: theme.spacing(2),\n  },\n  paper: {\n    // Workaround since the StructuredMetadataTable is neither responsive as it simply uses <table> nor can be customized via props or styles.\n    '& > table > tbody > tr': {\n      '& > td:nth-child(1)': {\n        minWidth: '10rem',\n        width: '25%',\n      },\n      '& > td:nth-child(2)': {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'left',\n      },\n    },\n  },\n}));\n\nconst ReviewStep = ({\n  busy,\n  schema,\n  data,\n  handleExecute,\n}: {\n  busy: boolean;\n  schema: JSONSchema7;\n  data: JsonObject;\n  handleExecute: () => void;\n}) => {\n  const styles = useStyles();\n  const { handleBack } = useStepperContext();\n  const displayData = React.useMemo<JsonObject>(() => {\n    return generateReviewTableData(schema, data);\n  }, [schema, data]);\n  return (\n    <Content noPadding>\n      <Paper square elevation={0} className={styles.paper}>\n        <StructuredMetadataTable dense metadata={displayData} />\n        <Box mb={4} />\n        <div className={styles.footer}>\n          <Button onClick={handleBack} disabled={busy}>\n            Back\n          </Button>\n          <SubmitButton\n            handleClick={handleExecute}\n            submitting={busy}\n            focusOnMount\n          >\n            Run\n          </SubmitButton>\n        </div>\n      </Paper>\n    </Content>\n  );\n};\n\nexport default ReviewStep;\n"],"names":[],"mappings":";;;;;;;AA2BA,MAAM,SAAA,GAAY,WAAW,CAAU,KAAA,MAAA;AAAA,EACrC,MAAQ,EAAA;AAAA,IACN,OAAS,EAAA,MAAA;AAAA,IACT,aAAe,EAAA,KAAA;AAAA,IACf,cAAgB,EAAA,OAAA;AAAA,IAChB,SAAA,EAAW,KAAM,CAAA,OAAA,CAAQ,CAAC,CAAA;AAAA,GAC5B;AAAA,EACA,KAAO,EAAA;AAAA;AAAA,IAEL,wBAA0B,EAAA;AAAA,MACxB,qBAAuB,EAAA;AAAA,QACrB,QAAU,EAAA,OAAA;AAAA,QACV,KAAO,EAAA,KAAA;AAAA,OACT;AAAA,MACA,qBAAuB,EAAA;AAAA,QACrB,OAAS,EAAA,MAAA;AAAA,QACT,aAAe,EAAA,KAAA;AAAA,QACf,cAAgB,EAAA,MAAA;AAAA,OAClB;AAAA,KACF;AAAA,GACF;AACF,CAAE,CAAA,CAAA,CAAA;AAEF,MAAM,aAAa,CAAC;AAAA,EAClB,IAAA;AAAA,EACA,MAAA;AAAA,EACA,IAAA;AAAA,EACA,aAAA;AACF,CAKM,KAAA;AACJ,EAAA,MAAM,SAAS,SAAU,EAAA,CAAA;AACzB,EAAM,MAAA,EAAE,UAAW,EAAA,GAAI,iBAAkB,EAAA,CAAA;AACzC,EAAM,MAAA,WAAA,GAAc,KAAM,CAAA,OAAA,CAAoB,MAAM;AAClD,IAAO,OAAA,uBAAA,CAAwB,QAAQ,IAAI,CAAA,CAAA;AAAA,GAC1C,EAAA,CAAC,MAAQ,EAAA,IAAI,CAAC,CAAA,CAAA;AACjB,EAAA,2CACG,OAAQ,EAAA,EAAA,SAAA,EAAS,IAChB,EAAA,kBAAA,KAAA,CAAA,aAAA,CAAC,SAAM,MAAM,EAAA,IAAA,EAAC,SAAW,EAAA,CAAA,EAAG,WAAW,MAAO,CAAA,KAAA,EAAA,kBAC3C,KAAA,CAAA,aAAA,CAAA,uBAAA,EAAA,EAAwB,OAAK,IAAC,EAAA,QAAA,EAAU,WAAa,EAAA,CAAA,sCACrD,GAAI,EAAA,EAAA,EAAA,EAAI,CAAG,EAAA,CAAA,sCACX,KAAI,EAAA,EAAA,SAAA,EAAW,MAAO,CAAA,MAAA,EAAA,sCACpB,MAAO,EAAA,EAAA,OAAA,EAAS,YAAY,QAAU,EAAA,IAAA,EAAA,EAAM,MAE7C,CACA,kBAAA,KAAA,CAAA,aAAA;AAAA,IAAC,YAAA;AAAA,IAAA;AAAA,MACC,WAAa,EAAA,aAAA;AAAA,MACb,UAAY,EAAA,IAAA;AAAA,MACZ,YAAY,EAAA,IAAA;AAAA,KAAA;AAAA,IACb,KAAA;AAAA,GAGH,CACF,CACF,CAAA,CAAA;AAEJ;;;;"}